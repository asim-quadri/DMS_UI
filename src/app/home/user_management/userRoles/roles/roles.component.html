<div class="main-container">
  <div class="home-header">
    <div class="row">
      <div class="col-md-7">
        <button class="btn btn-color">Roles</button>
        <button class="btn btn-border ml-10" routerLink="/users">Users</button>
      </div>
      <div class="col-md-2 float-right">
        <button class="btn btn-approval" (click)="openXl(content)">
          <i class="fa-solid fa-arrow-right-arrow-left"></i> &nbsp;
          Approvals <span class="approve-count">20</span>
        </button>
      </div>
      <div class="col-md-3">
        <form action="">
          <div class="input-group">
            <input type="text" class="form-control" (keyup)="onFilterTextBoxChanged($event)" placeholder="Search by keyword  ..." />
            <div class="input-group-append">
              <button class="btn btn-search" type="submit">
                <i class="fas fa-search"></i>
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
      <div class="home-content role-table">
        <div class="row">
          <div class="col-md-9">
            <div class="table-responsive">
              <ag-grid-angular #agGrid style="width: 900px; height: 540px;" class="ag-theme-alpine" [rowData]="rowData!"
              [columnDefs]="columnDefs" [defaultColDef]="defaultColumnDef" [rowSelection]="rowSelection"
              [suppressRowClickSelection]="true" (gridReady)="onGridReady($event)"  [pagination]="true"
              [paginationPageSize]="10"
              [paginationAutoPageSize]="true">
            </ag-grid-angular>
            </div>
          </div>
          <div class="col-md-3">
              <app-update-roles [roles]="rowData" [selectedUsers]="selectedRole" (reloaddata)="reload($event)"></app-update-roles>
          </div>
        </div>
      </div>
  </div>
  <ng-template #content let-modal>
    <app-role-approval
    [modal]="modal" (openRoleReview)=openRoleReview($event)>
    </app-role-approval>
  </ng-template>
  <ng-template #addroleApporoval let-modal>
    <app-review-role
    [modal]="modal"
    [pendingRoleApproval]="pendingApproval" (reloadPage)="reloadPage($event)">
    </app-review-role>
  </ng-template>
<!-- <ng-template #content let-modal>
  <app-role-approval
  [modal]="modal"
  (openRoleReview) = openRoleReview($event)>
  </app-role-approval>
</ng-template> -->

<!-- <ng-template #addroleApporoval let-modal>
  <app-review-role
  [modal]="modal"
  [pendingRoleApproval] ="pendingRoleApproval"
  (reloadPage)="reloadPage($event)">
  </app-review-role>
</ng-template> -->


<!-- <ng-template #content let-modal>
  <div class="modal-header">
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-md-8">
        <div class="stauts-list">
          <ul>
            <li class="status-circle red-status"></li>
            <li class="status-text">0 Approved</li>
            <li class="status-circle oragne-status"></li>
            <li class="status-text">0 Rejected</li>
            <li class="status-circle green-status"></li>
            <li class="status-text">1 Pending</li>
          </ul>
        </div>
      </div>
      <div class="col-md-4">
        <form action="">
          <div class="input-group">
            <input type="text" class="form-control" placeholder="Search by keyword  ..." />
            <div class="input-group-append">
              <button class="btn btn-search" type="submit">
                <i class="fas fa-search"></i>
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="row">
      <div class="table-responsive modal-table">
        <table class="table">
          <thead>
            <tr>
              <th scope="col"></th>
              <th scope="col">S.No</th>
              <th scope="col">Role</th>
              <th scope="col">Category</th>
              <th scope="col">Point Of Contact</th>
              <th scope="col">Status</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td scope="row" class="bg-white"><input type="checkbox" /></td>
              <td scope="row" class="status-pending">1</td>
              <td scope="row">Role</td>
              <td scope="row">Category</td>
              <td scope="row">Name</td>
              <td scope="row">Pending</td>
              <td scope="row" (click)="openXl(adduserApporoval)">
                Forward <i class="fa-regular fa-circle-right"></i>
              </td>
            </tr>
            <tr>
              <td scope="row" class="bg-white"><input type="checkbox" /></td>
              <td scope="row" class="status-pending">2</td>
              <td scope="row">Role</td>
              <td scope="row">Category</td>
              <td scope="row">Name</td>
              <td scope="row">
                <span class="approval-sent">Approval Sent</span>
              </td>
              <td scope="row" (click)="openXl(adduserApporoval)">
                Forward <i class="fa-regular fa-circle-right"></i>
              </td>
            </tr>
            <tr>
              <td scope="row" class="bg-white"><input type="checkbox" /></td>
              <td scope="row" class="status-reject">3</td>
              <td scope="row">Role</td>
              <td scope="row">Category</td>
              <td scope="row">Name</td>
              <td scope="row status-pending">
                <span class="approval-reject">Approval Rejected</span> <br />
                <span class="reject-by">By Anil Kumar</span>
              </td>
              <td scope="row" (click)="openXl(adduserApporoval)">
                Forward <i class="fa-regular fa-circle-right"></i>
              </td>
            </tr>
          </tbody>
        </table>
        <div class="row">
          <div class="col-9"></div>
          <div class="col-3">
            <button class="btn btn-accept">ACCEPT</button>
            <button class="btn btn-reject ml-10">REJECT</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template> -->

<ng-template #addroleApporoval let-modal>
  <div class="modal-header text-center">
    <h4 class="modal-title"> <span class="font-light"><i class="fa-solid fa-arrow-left"></i> Approvals</span> Add Roles
    </h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-md-3">
        <button class="btn btn-status">Approval Pending</button>
      </div>
      <div class="col-md-6 text-center user-info">
        <b>Point of Contact: <span>Kumar</span></b>
      </div>
    </div>
    <div class="row mt-100">
      <div class="col-md-4"></div>
      <div class="col-md-4">
        <form action="">
          <div class="row g-3 align-items-center">
            <div class="form-group">
              <label class="col-form-label">Role:</label>
              <input type="text" class="form-control" ngModel readonly />
            </div>
            <div class="form-group">
              <label class="col-form-label">Category:</label>
              <input type="text" class="form-control" ngModel readonly />
            </div>
          </div>
          <div class="mt-4">
            <button class="btn btn-accept width-50">
              APPROVE
            </button>
            <button class="btn btn-reject ml-10 width-50">
              REJECT
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</ng-template>
